<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template.xhtml"
                xmlns:c="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">

        <h2 class="heading text-center text-uppercase">Agencies</h2>
        <hr class="hr-dark" />

        <!-- Modal: add Agency -->
        <div class="modal fade" id="add" tabindex="-1" role="modal" aria-labelledby="Add Agency"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">New Agency</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <!--Body-->
                    <h:form class=" form-group">
                        <table class="col table ">
                            <tr>
                                <td>Name :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" type="text" placeholder=" " aria-label="Name" value="#{agencyController.agency.name}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Town :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">

                                            <select class="form-control mr-sm-2 col-md-12 mdb-select md-form">
                                                <option value="#{agencyController.agency.town}" disabled="true" selected="selected">Choose your option</option>
                                                <option value="yaounde">Yaounde</option>
                                                <option value="douala">Douala</option>
                                            </select>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Quarter :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" type="text" placeholder=" " aria-label="Quarter" value="#{agencyController.agency.quarter}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                        </table>	  
                    </h:form>
                    <!--Footer-->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>
                        <h:commandButton class="btn btn-primary" value = "Add Agency" 
                                         action = "#{agencyController.create}" />

                    </div>
                </div>
            </div>
        </div>
        <!-- Modal: add Agency -->

        <!-- Modal: Update Agency -->
        <div class="modal fade" id="update" tabindex="-1" role="modal" aria-labelledby="Update Agency "
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">Update Agency  #{agencyController.agency.id}</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <!--Body-->
                    <h:form class=" form-group">
                        <table class="col table ">
                            <tr>
                                <td>Name :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" type="text" placeholder=" " aria-label="Name" value="#{agencyController.agency.name}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Town :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">

                                            <select class="form-control mr-sm-2 col-md-12 mdb-select md-form" onchange="#{agencyController.agency.town}">
                                                <option value="" disabled="true" selected="selected">Choose your option</option>
                                                <option value="yaounde">Yaounde</option>
                                                <option value="douala">Douala</option>
                                            </select>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Quarter :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" type="text" placeholder=" " aria-label="Quarter" value="#{agencyController.agency.quarter}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                        </table>	  
                    </h:form>
                    <!--Footer-->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>                      
                        <h:commandButton class="btn btn-primary" value = "Update Agency" 
                                         action = "#{agencyController.edit(agencyController.agency.getId)}" />

                    </div>
                </div>
            </div>
        </div>
        <!-- Modal: Update Agency -->

        <!-- Modal: Update Agency -->
        <div class="modal shake " id="delete" tabindex="-1" role="dialog" aria-labelledby="Delete Agency"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">Deleting Agency  #{agencyController.agency.name}</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <!--Body-->
                    <h:form class=" form-group text-center text-uppercase">
                        Are you sure ?
                    </h:form>
                    <!--Footer-->
                    <div class="modal-footer">

                        <button class="btn btn-danger" data-dismiss="modal"
                                onclick="#{agencyController.edit(agencyController.agency.getId)}" >
                            Delete Agency
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal: Update Agency -->

        <!--/data table  for agents-->
        <div class="row">
            <h:form class="col-md-10">
                <h:dataTable value="#{agencyController.agencyList}" var="agency" border="0"
                             cellspacing="1" cellpadding="1" class="table table-hover " title="List of Agencies">
                    <h:column class="" >
                        <c:facet name="header" class="">Name</c:facet>
                            #{agency.name}
                    </h:column>
                    <h:column>
                        <c:facet name="header">Town</c:facet>
                            #{agency.town}
                    </h:column>
                    <h:column>
                        <c:facet name="header"> Quarter</c:facet>
                        <i class="fas fa-map-marker-alt"></i> #{agency.quarter}
                    </h:column>
                </h:dataTable>
            </h:form>
            <!--/data table  for agents-->
            <!-- Button trigger modal-->
            <div class="col-md-2">
                <button type="button" class="col-md-10 btn-outline-success  btn" data-toggle="modal" data-target="#add">
                    <i class="fa fa-plus "></i>
                </button>
                <button type="button" class="col-md-10 btn-outline-primary  btn" data-toggle="modal" data-target="#update">
                    <i class="fa fa-edit "></i>
                </button>
                <button type="button" class="col-md-10 btn-outline-danger  btn" data-toggle="modal" data-target="#delete">
                    <i class="fa fa-trash "></i>
                </button>
            </div>
        </div>


    </ui:define>
</ui:composition>

