<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./template.xhtml"
                xmlns:c="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">

        <h2 class="heading text-center text-uppercase">Buses</h2>
        
        <hr class="hr-dark" />
        
        <!-- Modal: add Bus -->
        <div class="modal fade" id="add" tabindex="-1" role="modal" aria-labelledby="Add Bus"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">New Bus</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <!--Body-->
                    <h:form class=" form-group">
                        <table class="col table ">
                            <tr>
                                <td>Bus Number :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" min="0" type="number" placeholder="#" aria-label="Name" value="#{busesController.bus.busNumber}"></input> 
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Colour :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9"  type="text" placeholder="" aria-label="Name" value="#{busesController.bus.colour}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Number of sits :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" min="35" max="70" type="number" placeholder=" " aria-label="numOfSits" value="#{busesController.bus.numOfSits}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                        </table>	  
                    </h:form>
                    <!--Footer-->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>
                        <h:commandButton class="btn btn-primary" value = "Add Bus" 
                                         action = "#{busesController.save()}" />

                    </div>
                </div>
            </div>
        </div>
        <!-- Modal: add Bus -->

        <!-- Modal: Update Bus -->
        <div class="modal fade" id="update" tabindex="-1" role="modal" aria-labelledby="Update Bus "
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">Update Bus  #{busesController.bus.id}</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <!--Body-->
                    <h:form class=" form-group">
                        <table class="col table ">
                            <tr>
                                <td>Bus Number :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" min="0" type="number" placeholder="#" aria-label="Name" value="#{busesController.bus.busNumber}"></input> 
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Colour :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9"  type="text" placeholder="" aria-label="Name" value="#{busesController.bus.colour}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                            <tr>
                                <td>Number of sits :</td>
                                <td>
                                    <form class="form-inline ">
                                        <div class="md-form my-0 ">
                                            <input class="form-control mr-sm-2 col-md-9" min="35" max="70" type="number" placeholder=" " aria-label="numOfSits" value="#{busesController.bus.numOfSits}"></input>
                                        </div>
                                    </form>
                                </td>
                            </tr>

                        </table>	  
                    </h:form>
                    <!--Footer-->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-primary" data-dismiss="modal">Close</button>                      
                        <h:commandButton class="btn btn-primary" value = "Update Bus" 
                                         action = "#{busesController.edit()}" />

                    </div>
                </div>
            </div>
        </div>
        <!-- Modal: Update Bus -->

        <!-- Modal: Delete Bus -->
        <div class="modal shake " id="delete" tabindex="-1" role="dialog" aria-labelledby="Delete Bus"
             aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <!--Header-->
                    <div class="modal-header">
                        <h4 class="modal-title" id="myModalLabel">Deleting Bus  #{busesController.bus.busNumber}</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                    <!--Body-->
                    <h:form class=" form-group text-center text-uppercase">
                        Are you sure ?
                    </h:form>
                    <!--Footer-->
                    <div class="modal-footer">

                        <button class="btn btn-danger" data-dismiss="modal"
                                onclick="#{busesController.delete()}" >
                            Delete Bus
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <!-- Modal: Delete Bus -->

        <!--/data table  for agents-->
        <div class="row">
            <h:form class="col-md-10">
                <h:dataTable value="#{busesController.busOperation.findAll()}" var="bus" border="0"
                             cellspacing="1" cellpadding="1" class="table table-hover " title="List of Agencies">
                    <h:column class="" >
                        <c:facet name="header" class="">Bus Number</c:facet>
                            #{bus.busNumber}
                    </h:column>
                    <h:column>
                        <c:facet name="header">Colour</c:facet>
                            #{bus.colour}
                    </h:column>
                    <h:column>
                        <c:facet name="header"> Number of sits</c:facet>
                        <i class="fas fa-map-marker-alt"></i> #{bus.numOfSits}
                    </h:column>
                </h:dataTable>
            </h:form>
            <!--/data table  for agents-->
            <!-- Button trigger modal-->
            <div class="col-md-2">
                <button type="button" class="col-md-10 btn-outline-success  btn" data-toggle="modal" data-target="#add">
                    <i class="fa fa-plus "></i>
                </button>
                <button type="button" class="col-md-10 btn-outline-primary  btn" data-toggle="modal" data-target="#update">
                    <i class="fa fa-edit "></i>
                </button>
                <button type="button" class="col-md-10 btn-outline-danger  btn" data-toggle="modal" data-target="#delete">
                    <i class="fa fa-trash "></i>
                </button>
            </div>
        </div>


    </ui:define>
    <ui:define name="sidebar-menus">
        <ul class="nav nav-pills flex-column">
            <li class="nav-item">
                <a class="nav-link" href="index.xhtml">Agencies</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="agents.xhtml">Agents</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="trips.xhtml">Trips</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="mails.xhtml">Mails</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="privileges.xhtml">Privileges</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="reservation.xhtml">Reservations</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="clients.xhtml">Clients</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" href="buses.xhtml">Buses</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="stats.xhtml">Statistics</a>
            </li>
        </ul>
    </ui:define>
</ui:composition>

